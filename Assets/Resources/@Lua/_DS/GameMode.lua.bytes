local GameMode = _MOE.class("GameMode")

if _MOE.IsDS then

    ----------------------------- 只有DS上才跑这个逻辑
    function GameMode:Ctor(netWorkMgr, binder)
        self.NetWorkMgr = netWorkMgr
        self.Binder = binder
        self:RegisterSystemEvents()
    end

    function GameMode:RegisterSystemEvents()
        local EventType = CS.SOC.GamePlay.LuaEvent_MonoEventType
        self.NetWorkMgr:RegisterLuaEvent(EventType.Awake:GetHashCode(), self.OnAwake)
        self.NetWorkMgr:RegisterLuaEvent(EventType.Destroyed:GetHashCode(), self.OnDestroy)
        self.NetWorkMgr:RegisterLuaEvent(EventType.Start:GetHashCode(), self.OnStart)
    end

    function GameMode:OnAwake()
        self.Transport = self.NetWorkMgr.gameObject:GetComponent(CS.Unity.Netcode.Transports.UTP.UnityTransport)
    end

    function GameMode:OnStart()
        -- 连接到GS上
    end

    function GameMode:OnDestroy()
        self.Transport = nil
    end
end

return GameMode