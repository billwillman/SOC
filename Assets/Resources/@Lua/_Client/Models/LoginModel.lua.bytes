local LoginModel = _MOE.class("LoginModel", _MOE.BaseModel)

local MsgIds = require("_NetMsg.MsgId")

function LoginModel:InitNetDisptchEvents()
    -- 网络消息处理
    _MOE.GameApp:RegisterLoginSrvMsgCallBack(MsgIds.SM_LoginRet, self, SM_LoginRet)
end

function LoginModel:OnUnInit()
    _MOE.GameApp:UnRegisterLoginSrvMsgCallBack(MsgIds.SM_LoginRet)
end

function LoginModel:OnInit()
    self:InitNetDisptchEvents()
    -- 打开登录界面
    _MOE.UIManager:OpenWindow(_MOE.WindowName.Login)
    
end

function LoginModel:CM_Login(userName, password)
    local data = {
        userName = userName,
        password = password
    }
    _MOE.GameApp:SendLoginSrvMsg(MsgIds.CM_Login, data)
end

--------------------------------- 网络消息接收 ------------------------------------
function LoginModel:SM_LoginRet(netModel, msg)
end

return LoginModel