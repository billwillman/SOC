_MOE = {
    IsOpenLog = true,
    IsEditor = false,
    IsDS = false,
}

_MOE.Logger = {
    Log = function (...)
        if _MOE.IsOpenLog then
            CS.UnityEngine.Debug.Log(...)
        end
    end,
    LogError = function (...)
        if _MOE.IsOpenLog then
            CS.UnityEngine.Debug.LogError(...)
        end
    end,
    LogWarning = function (...)
        if _MOE.IsOpenLog then
            CS.UnityEngine.Debug.LogWarning(...)
        end
    end
}

local function InitCSGlobalVars()
    _MOE.class = require("Common.BaseClass") -- class框架
    _MOE.NetManager = CS.NsTcpClient.NetManager
    _MOE.ResourceManager = CS.ResourceMgr
end

function Main()
    _MOE.Logger.Log("[xlua] Main Start...")
    InitCSGlobalVars()
    -- 设置调试Lua Panda调试
    if _MOE.IsDS then
        require("LuaPanda").start("127.0.0.1", 8818)
    else
        require("LuaPanda").start("127.0.0.1", 8819)
    end
    -- 初始化Model
    require("ModelInit")
end

return _MOE